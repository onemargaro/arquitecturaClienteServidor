#include <stdio.h>
#include <stdlib.h>
#include <unistd.h>
/**
 * Margarito Sánchez Baños
 * @param  argc numero de argumento pasados al programa
 * @param  argv array de argumentos pasado al programa
 * @return      estatus
 */
int main(int argc, char const *argv[])
{
  //declara un nuevo conjunto de argumentos
  //dejando la posición 0 en NULL para poder ser llenada posteriormente
  char *newargv[] = { NULL, "hello", "world", NULL}; 
  //declara el nuevo ambiente que se ejecutara
  char *newenviron[] = { NULL };

  if (argc != 2) //verifica que el numero de argumentos al menos sea 2 el 1 es el nombre del programa
  {
    fprintf(stderr, "Sintaxis: %s <file-to-exec>\n", argv[0]); //si no se cumple se muestra la sintaxis correcta
    exit(EXIT_FAILURE); //termina la ejecución del programa con estatus de error
  }

  newargv[0] = argv[1]; // copia el argumento 2 que es el programa a ejecutar a la primera posición de argumentos
  execve(argv[1], newargv, newenviron); //ejecuta el programa pasado como argumento con paramentro hello y world y con un ambiente vacio
  perror("execve"); //esto solo se ejecuta si el execve tuvo algún error
  exit(EXIT_FAILURE); //termina la ejecución del programa con estatus de error
}
